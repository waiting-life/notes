## å°ç¨‹åºå­¦ä¹ 

### æ¨¡æ¿è¯­æ³•

1. textç›¸å½“äºä»¥å‰webä¸­çš„spanæ ‡ç­¾ï¼Œè¡Œå†…å…ƒç´ ï¼Œ ä¸ä¼šæ¢è¡Œ

2. viewç›¸å½“äº divæ ‡ç­¾
3. checkboxç›¸å½“äºä»¥å‰çš„å¤é€‰æ¡†
4. blockæ ‡ç­¾å ä½



### æ•°æ®ç»‘å®š

```
ctrl+alt+æ–¹å‘é”®

ctrl+shift+å³é”®é€‰ä¸­

shift+alt+ä¸Šä¸‹é”®å¤åˆ¶
```



### å¾ªç¯

```
wx:for="{{æ•°ç»„æˆ–è€…å¯¹è±¡}}"
wx:for-item="{{å¾ªç¯é¡¹çš„åç§°}}"
wx:for-index="{{å¾ªç¯é¡¹çš„ç´¢å¼•}}"
wx:key="å”¯ä¸€å€¼"	ç”¨æ¥æé«˜åˆ—è¡¨æ¸²æŸ“çš„æ€§èƒ½
```

#### 1. åˆ—è¡¨å¾ªç¯

```
wx:for="{{æ•°ç»„æˆ–è€…å¯¹è±¡}}"
wx:for-item="{{å¾ªç¯é¡¹çš„åç§°}}"
wx:for-index="{{å¾ªç¯é¡¹çš„ç´¢å¼•}}"
wx:key="å”¯ä¸€å€¼"	ç”¨æ¥æé«˜åˆ—è¡¨æ¸²æŸ“çš„æ€§èƒ½
```

#### 2. å¯¹è±¡å¾ªç¯

```
wx:for="{{å¯¹è±¡}}"
wx:for-item="{{value}}"
wx:for-index="{{key}}"
wx:key="å”¯ä¸€å€¼"	ç”¨æ¥æé«˜åˆ—è¡¨æ¸²æŸ“çš„æ€§èƒ½
```

### æ¡ä»¶æ¸²æŸ“

#### wx:if

```
wx:if="{{true/false}}"
wx:if
wx:elif
wx:else
```



#### hidden



### ç»‘å®šäº‹ä»¶

1. ç»™inputæ ‡ç­¾ç»‘å®šinputäº‹ä»¶ï¼Œç»‘å®šå…³é”®å­— `bindinput= "handleInput"`

e.detail.valueæ‹¿åˆ°è¾“å…¥æ¡†çš„å€¼

```js
handleInput(e) {
    console.log('ğŸ˜Š')
    console.log(e.detail.value)
    this.setData({
      inputnum: e.detail.value
    })
  },
```



2. æ·»åŠ ä¸€ä¸ªç‚¹å‡»äº‹ä»¶`bindtap`

æ— æ³•å†å°ç¨‹åºå½“ä¸­çš„äº‹ä»¶ä¸­ç›´æ¥ä¼ å‚ï¼Œé€šè¿‡è‡ªå®šä¹‰å±æ€§çš„æ–¹å¼æ¥ä¼ é€’å‚æ•°ã€‚

è·å¾—è‡ªå®šä¹‰å±æ€§å€¼`e.currentTarget.dataset.å±æ€§å`

```js
 handleTap(e) {
    // console.log(e)
    const operation = e.currentTarget.dataset.operation
    this.setData({
      btnnum: this.data.btnnum + operation
    })
  }
```

### wxss

**å°ºå¯¸å•ä½**ï¼šrpx

rpxï¼šå¯ä»¥æ ¹æ®å±å¹•å®½åº¦è‡ªé€‚åº”

å°ç¨‹åºä¸æ”¯æŒé€šé…ç¬¦

### æ ‡ç­¾ç»„ä»¶

1. **text**

+ é•¿æŒ‰æ–‡å­—å¤åˆ¶ `selectcable`
+ å¯¹æ–‡æœ¬å†…å®¹è¿›è¡Œè§£ç  `decode`

```wxml
<text selectable="{{true}}" decode>textçš„selectcableé•¿æŒ‰å¤åˆ¶ &nbsp;123</text>
```

2. **image**



3. **swiper**



4. **navigator**



5. **rich-text**

**nodeså±æ€§**

6. **button**

**type**:  primary,  default,  warn

**open-type**:

**æ³¨æ„**ï¼šbuttonçš„æ ·å¼æœ‰é—®é¢˜ï¼Œè®¾ä¸ºtype="warn"çš„æ—¶å€™æ²¡æœ‰èƒŒæ™¯é¢œè‰²ï¼Œbuttonå®½åº¦ä¹Ÿä¸å¯¹

**è§£å†³åŠæ³•**ï¼š å»æ‰`app.json`ä¸­çš„`"style": "v2"`,

`contact`
`share`
`getPhoneNumber`
`getUserInfo`
`launchApp`
`openSetting`
`feedback`



6. **å•é€‰æ¡†`icon`**

**type**

**size**

**color**

7. **radio**

+ radioæ ‡ç­¾ï¼Œå¿…é¡»è¦å’Œçˆ¶å…ƒç´  radio-groupæ¥ä½¿ç”¨
+ valueé€‰ä¸­çš„å•é€‰æ¡†çš„å€¼
+ éœ€è¦ç»™radio-groupç»‘å®šchangeäº‹ä»¶ã€‚

7. **å¤é€‰æ¡†`checkbox`**

### è‡ªå®šä¹‰ç»„ä»¶

####  åŸºæœ¬ä½¿ç”¨

1. å³é”®æ–°å»ºcomponents
2. å¦‚æœæƒ³è¦ä½¿ç”¨è‡ªå®šä¹‰ç»„ä»¶`Tabs`ï¼Œé‚£ä¹ˆé¦–å…ˆè¦åœ¨å¯¹åº”çš„`.json`æ–‡ä»¶ä¸­

```json
{
  "usingComponents": {
    "Tabs": "../../components/Tabs/Tabs"
  }
}
```

3. åœ¨æƒ³è¦çš„é¡µé¢å¼•å…¥è‡ªå®šä¹‰ç»„ä»¶

```wxml
<Tabs />
<view>å•¦å•¦å•¦å•¦</view>
```

**æ³¨æ„**ï¼šç»„ä»¶ä¸­ï¼Œå­˜æ”¾æ—¶é—´å›è°ƒå‡½æ•°çš„æ—¶å€™ï¼Œå¿…é¡»è¦å­˜æ”¾åœ¨methodsä¸­ã€‚

#### çˆ¶å­ç»„ä»¶é€šä¿¡

##### 1. çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ å€¼

1. æ¯”å¦‚çˆ¶å‘å­ç»„ä»¶ä¼ é€’`aaa="123"`

```wxml
<Tabs aaa="123"/>
```

2. å­ç»„ä»¶æ¥æ”¶ä¼ è¿‡æ¥çš„å€¼

```js
  properties: {
    aaa: {
      type: String,
      value: ''
    }
  },
```

3. å­ç»„ä»¶ä½¿ç”¨çˆ¶ç»„ä»¶ä¼ çš„å€¼

```wxml
<view>{{aaa}}</view>
```

##### 2. å­ç»„ä»¶å‘çˆ¶ç»„ä»¶ä¼ å€¼

å­ç»„ä»¶è§¦å‘äº‹ä»¶ï¼Œmethods

```js
methods: {
    handleItemTap(e) {
      const {index} = e.currentTarget.dataset
      // è§¦å‘çˆ¶ç»„ä»¶è‡ªå®šä¹‰äº‹ä»¶ï¼Œå¹¶ä¸”ä¼ é€’å‚æ•°
      this.triggerEvent('itemTap', {index})
    }
}
```

çˆ¶ç»„ä»¶ç›‘å¬åˆ°äº‹ä»¶ï¼Œè§¦å‘ç›¸åº”çš„å‡½æ•°

```js
<Tabs tabs="{{tabs}}" aaa="123" binditemTap="handleItemTap"/>
    
// è‡ªå®šä¹‰äº‹ä»¶
  handleItemTap(e) {
    const { index } = e.detail
    const { tabs } = this.data
    tabs.forEach((tab, i) => i===index ? tab.isActive = true : tab.isActive = false)
    this.setData({
      tabs
    })
  }
```

### å°ç¨‹åºç”Ÿå‘½å‘¨æœŸ

**åº”ç”¨ç”Ÿå‘½å‘¨æœŸ**



**é¡µé¢ç”Ÿå‘½å‘¨æœŸ**

**onLoad**ï¼š

**onShow**ï¼š

**onReady**:

**onHide**:

**onUnload**:

**onPullDownRefresh**:

**onReachBottom**:

**onShareAppMessage**:

**onPageScroll**:

**onResize**:

**onTabItemTap**:

### å°ç¨‹åºçš„ç¬¬ä¸‰æ–¹æ¡†æ¶

uni-app

åŸç”Ÿæ¡†æ¶MINA

### é¡¹ç›®ç»ƒä¹ 



#### ä¼˜åŒ–

##### æ·»åŠ ç¼“å­˜æ•ˆæœ

å•†å“æ•°æ®å¾ˆå¤§ï¼Œæ‰€ä»¥æ·»åŠ ç¼“å­˜æ•ˆæœã€‚

1. **è·å–æœ¬åœ°å­˜å‚¨ä¸­çš„æ•°æ®**ï¼šå°ç¨‹åºä¸­ä¹Ÿå­˜åœ¨æœ¬åœ°å­˜å‚¨

+ æ‹¿å–åˆ°æ•°æ®å

```js
const {message} = result.data
      this.Cates = message 
      wx.setStorageSync('cates', {time: Date.now(), data: this.Cates});
```

+ åŠ è½½é¡µé¢çš„æ—¶å€™åšåˆ¤æ–­

```js
onLoad: function (options) {
    const Cates = wx.getStorageSync('cates');
    if(!Cates) {
      this.getCates()
    } else {
      if(Date.now()-Cates.time > 1000*10) {
        this.getCates()
      } else {
        console.log('ä½¿ç”¨ç¼“å­˜ä¸­çš„æ•°æ®')
        this.Cates = Cates.data
        const menuData = this.Cates.map(item => item.cat_name)
        const goodsData = this.Cates[0].children
        this.setData({
          menuData,
          goodsData
        })
      }
    }
```

#### ç‚¹å‡»è½®æ’­å›¾ é¢„è§ˆå¤§å›¾

**1. ç»™è½®æ’­å›¾æ·»åŠ ç‚¹å‡»äº‹ä»¶**

```wxml
<swiper autoplay circular indicator-dots>
    <swiper-item
      wx:for="{{goodsObj.pics}}"
      wx:key="pics_id"
      bindtap="handlePreviewImage">
      <image mode="widthFix" src="{{item.pics_mid}}"/>
    </swiper-item>
  </swiper>
```



**2. è°ƒç”¨å°ç¨‹åºçš„api previewImage**

```js
 // ç‚¹å‡»è½®æ’­å›¾æ”¾å¤§é¢„è§ˆ
  handlePreviewImage() {
    console.log(111)
    // 1. å…ˆæ„é€ è¦é¢„è§ˆçš„å›¾ç‰‡æ•°ç»„
    const urls = this.GoodsInfo.pics.map(item => item.pics_mid)
    wx.previewImage({
      current: urls[0],
      urls
    });
  }
```

#### ç‚¹å‡»åŠ å…¥è´­ç‰©è½¦

**1. å…ˆç»‘å®šç‚¹å‡»äº‹ä»¶**

 **2. è·å–ç¼“å­˜ä¸­çš„è´­ç‰©è½¦æ•°æ® æ•°ç»„æ ¼å¼**

**3. å…ˆåˆ¤æ–­å½“å‰å•†å“æ˜¯å¦å·²ç»å­˜åœ¨äºè´­ç‰©è½¦**

**4. å·²ç»å­˜åœ¨ ä¿®æ”¹å•†å“æ•°æ® å•†å“æ•°é‡++ é‡æ–°æŠŠè´­ç‰©è½¦æ•°ç»„å¡«å……å›ç¼“å­˜ä¸­**

**5. ä¸å­˜åœ¨äºè´­ç‰©è½¦çš„æ•°ç»„ä¸­ ç›´æ¥ç»™è´­ç‰©è½¦æ•°ç»„æ·»åŠ ä¸€ä¸ªæ–°å…ƒç´  æ–°å…ƒç´ å¸¦ä¸Šè´­ä¹°æ•°é‡å±æ€§num é‡æ–°æŠŠè´­ç‰©è½¦æ•°ç»„ å¡«å……å›ç¼“å­˜ä¸­**

**6. å¼¹å‡ºæç¤º**

```js
// ç‚¹å‡»åŠ å…¥è´­ç‰©è½¦è§¦å‘äº‹ä»¶
  handleCartAdd() {
    console.log('ç‚¹å‡»åŠ å…¥è´­ç‰©è½¦')
    // è·å–ç¼“å­˜ä¸­çš„è´­ç‰©è½¦
    let cart = wx.getStorageSync('cart') || [];
    // åˆ¤æ–­å•†å“å¯¹è±¡æ˜¯å¦å­˜åœ¨äºè´­ç‰©è½¦æ•°ç»„ä¸­
    let index = cart.findIndex(item => item.goods_id === this.GoodsInfo.goods_id)
    if(index === -1) {
      // ä¸å­˜åœ¨
      this.GoodsInfo.num = 1;
      cart.push(this.GoodsInfo)
    } else {
      cart[index].num++
    }
    // æŠŠè´­ç‰©è½¦é‡æ–°æ·»åŠ å›ç¼“å­˜ä¸­
    wx.setStorageSync('cart', cart);
    // å¼¹çª—æé†’
    wx.showToast({
      title: 'åŠ å…¥æˆåŠŸ',
      icon: 'success',
      mask: true
    });
  }
```

#### è·å–ç”¨æˆ·çš„æ”¶è´§åœ°å€

1. ç»‘å®šç‚¹å‡»äº‹ä»¶
2. è°ƒç”¨å°ç¨‹åºå†…ç½®apiï¼Œ `wx.chooseAddress`æ¥è·å–ç”¨æˆ·çš„æ”¶è´§åœ°å€

+ è·å–ç”¨æˆ·å¯¹å°ç¨‹åºæ‰€æˆäºˆè·å–åœ°å€çš„æƒé™çŠ¶æ€scope

  + å‡è®¾ç”¨æˆ·ç‚¹å‡»è·å–æ”¶è´§åœ°å€çš„æç¤ºæ¡†   **ç¡®å®š** authSetting  scope.address

    æ­¤æ—¶scopeçš„å€¼ä¸ºtrue		ç›´æ¥è°ƒç”¨è·å–æ”¶è´§åœ°å€

  + å‡è®¾ç”¨æˆ·ä»æ¥æ²¡æœ‰è°ƒç”¨è¿‡è·å–æ”¶è´§åœ°å€çš„api

    scopeçš„å€¼ä¸ºundefined		ç›´æ¥è°ƒç”¨è·å–æ”¶è´§åœ°å€

  + å‡è®¾ç”¨æˆ·ç‚¹å‡»è·å–æ”¶è´§åœ°å€çš„æç¤ºæ¡†   **å–æ¶ˆ**

    scopeçš„å€¼ä¸ºfalse			

    1. è¯±å¯¼ç”¨æˆ·è‡ªå·±æ‰“å¼€æˆæƒè®¾ç½®é¡µé¢ï¼Œå½“ç”¨æˆ·é‡æ–°æ‹¥æœ‰è·å–æ”¶è´§åœ°å€æƒé™çš„æ—¶å€™`wx.openSetting`
    2. è·å–æ”¶è´§åœ°å€

  + æŠŠè·å–åˆ°çš„æ”¶è´§åœ°å€å­˜å‚¨åˆ°æœ¬åœ°å­˜å‚¨å½“ä¸­

**å°è£…æ¥å£**

```js
export const getSetting = () => {
  return new Promise((resolve, reject) => {
    wx.getSetting({
      success: (result) => {
        resolve(result)
      },
      fail: (err) => {
        reject(err)
      }
    })
  })
} 

export const chooseAddress = () => {
  return new Promise((resolve, reject) => {
    wx.chooseAddress({
      success: (result) => {
        resolve(result)
      },
      fail: (err) => {
        reject(err)
      }
    })
  })
} 

export const openSetting = () => {
  return new Promise((resolve, reject) => {
    wx.openSetting({
      success: (result) => {
        resolve(result)
      },
      fail: (err) => {
        reject(err)
      }
    })
  })
} 
```

**ç‚¹å‡»è·å–æ”¶è´§åœ°å€è§¦å‘çš„äº‹ä»¶**

```js
async handleChooseAddress() {
    try {
      // è·å–æƒé™çŠ¶æ€
      const res1 = await getSetting()
      const scopeAddress = res1.authSetting["scope.address"]
      // åˆ¤æ–­æƒé™çŠ¶æ€
      if(scopeAddress === false) {
        await openSetting()
      }  
      const address = await chooseAddress()
      // å­˜å…¥åˆ°ç¼“å­˜ä¸­
      wx.setStorageSync('address', address);
        
    } catch (error) {
      console.log(error)
    }
  }
```

**å…¶ä»–**ï¼šæ¯”å¦‚åˆ é™¤`view.`ï¼Œé€‰ä¸­`view.`ï¼Œç„¶åä½¿ç”¨crtl+shift+lç”¨å…‰æ ‡å¤šé€‰ã€‚

#### è´­ç‰©è½¦

##### 1. æ¸²æŸ“è§†å›¾

onShow

1. è·å–ç¼“å­˜ä¸­è´­ç‰©è½¦æ•°ç»„
2. æŠŠè´­ç‰©è½¦æ•°æ®å¡«å……åˆ°dataä¸­

##### 2. å…¨é€‰çš„å®ç°

1. onShowè·å–ç¼“å­˜ä¸­çš„è´­ç‰©è½¦æ•°ç»„
2. æ ¹æ®è´­ç‰©è½¦ä¸­çš„å•†å“æ•°æ® æ‰€æœ‰çš„å•†å“æ•°æ®è¢«é€‰ä¸­ checked=true å…¨é€‰å°±è¢«é€‰ä¸­

##### 3. æ€»ä»·æ ¼æ€»æ•°é‡

1. éƒ½éœ€è¦è¦å•†å“è¢«é€‰ä¸­
2. è·å–è´­ç‰©è½¦æ•°ç»„
3. éå†æ•°ç»„
4. åˆ¤æ–­å•†å“æ˜¯å¦é€‰ä¸­
5. æ€»ä»·æ ¼+=å•†å“çš„å•ä»·*å•†å“çš„æ•°é‡
6. æ€»æ•°é‡+=å•†å“çš„æ•°é‡
7. æŠŠè®¡ç®—åçš„ä»·æ ¼å’Œæ•°é‡è®¾ç½®å›dataä¸­å³å¯ã€‚

##### 5. å•†å“çš„é€‰ä¸­

1. ç»‘å®šchangeäº‹ä»¶
2. è·å–åˆ°è¢«ä¿®æ”¹çš„å•†å“å¯¹è±¡
3. å•†å“å¯¹è±¡çš„é€‰ä¸­çŠ¶æ€ å–å
4. é‡æ–°å¡«å›dataä¸­å’Œç¼“å­˜ä¸­
5. é‡æ–°è®¡ç®—å…¨é€‰ã€‚æ€»ä»·æ ¼ï¼Œæ€»æ•°é‡ã€‚ã€‚ã€‚

##### 6. å…¨é€‰å’Œåé€‰

1. å…¨é€‰å¤é€‰æ¡†ç»‘å®šäº‹ä»¶change
2. è·å–dataä¸­çš„å…¨é€‰å˜é‡ allChecked
3. ç›´æ¥å–åallChecked = !allChecked
4. éå†è´­ç‰©è½¦æ•°ç»„ï¼Œè®©é‡Œé¢å•†å“é€‰ä¸­çŠ¶æ€æ ¹allCheckedä¿æŒä¸€è‡´
5. æŠŠè´­ç‰©è½¦æ•°ç»„å’ŒallCheckedé‡æ–°è®¾ç½®å›dataï¼ŒæŠŠè´­ç‰©è½¦æ•°æ®é‡æ–°è®¾ç½®å›ç¼“å­˜ã€‚

```js
  // å•†å“å…¨é€‰åŠŸèƒ½
  handleAllChecked() {
    // 1. è·å–dataä¸­çš„æ•°æ®
    let {allChecked, cart} = this.data
    // 2. ä¿®æ”¹å€¼
    allChecked = !allChecked
    // 3. å¾ªç¯ä¿®æ”¹cartæ•°ç»„ä¸­å•†å“çš„é€‰ä¸­çŠ¶æ€
    cart.forEach(item => item.checked = allChecked)
    // 4. æŠŠä¿®æ”¹åçš„å€¼å¡«å……å›dataæˆ–è€…ç¼“å­˜ä¸­ 
    this.setCart(cart)
  }
})
```

##### 7. å•†å“æ•°é‡çš„ç¼–è¾‘

1. "+"  "-"æŒ‰é’®ï¼Œç»‘å®šåŒä¸€ä¸ªç‚¹å‡»äº‹ä»¶ï¼ŒåŒºåˆ†çš„å…³é”®ï¼Œè‡ªå®šä¹‰å±æ€§

   "+"   "+1"

   "-"    "-1"

2. ä¼ é€’è¢«ç‚¹å‡»çš„å•†å“id       goods_id

3. è·å–dataä¸­çš„è´­ç‰©è½¦æ•°ç»„ï¼Œæ¥è·å–éœ€è¦è¢«ä¿®æ”¹çš„å•†å“å¯¹è±¡

4. å½“è´­ç‰©è½¦çš„æ•°é‡ =1åŒæ—¶ç‚¹å‡»äº†"-"ï¼Œ

   å¼¹çª—æç¤ºï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦è¦åˆ é™¤

   1. ç¡®å®šï¼Œç›´æ¥æ‰§è¡Œåˆ é™¤
   2. å–æ¶ˆï¼Œ ä»€ä¹ˆéƒ½ä¸åš

5. ç›´æ¥ä¿®æ”¹å•†å“å¯¹è±¡çš„num

6. æŠŠcartæ•°ç»„é‡æ–°è®¾ç½®å›ç¼“å­˜å’Œdataä¸­  è°ƒç”¨å°è£…çš„`this.setCart`æ–¹æ³•



##### æ³¨æ„ï¼šè®¾ç½®è´­ç‰©è½¦çŠ¶æ€åŒæ—¶åŠ å…¥ç¼“å­˜

```js
// è®¾ç½®è´­ç‰©è½¦çŠ¶æ€åŒæ—¶ é‡æ–°è®¡ç®—åº•éƒ¨å·¥å…·æ çš„æ•°æ® å…¨é€‰ æ€»æ•°é‡ æ€»ä»·æ ¼
  setCart(cart) {
    let totalPrice = 0
    let totalNum = 0
    let allChecked = true
    cart.forEach(item => {
      if(item.checked) {
        totalPrice += item.num*item.goods_price
        totalNum += item.num
      } else {
        allChecked = false
      }
    })
    allChecked = cart.length!=0 ? allChecked : false
    // address.all = address.provinceName+address.cityName+address.countyName+address.detailInfo
    // 2. ç»™dataèµ‹å€¼
    this.setData({
      cart,
      allChecked,
      totalPrice,
      totalNum
    })
    wx.setStorageSync('cart', cart)
  },
```

#### ç‚¹å‡»ç»“ç®—





#### æ”¯ä»˜åŠŸèƒ½





#### å¾®ä¿¡æ”¯ä»˜

1. å“ªäº›äºº å“ªäº›è´¦å·å¯ä»¥å®ç°å¾®ä¿¡æ”¯ä»˜

   ä¼ä¸šè´¦å·

   ä¼ä¸šè´¦å·çš„å°ç¨‹åºåå°ä¸­ï¼Œå¿…é¡»ç»™å¼€å‘è€…æ·»åŠ ä¸Šç™½åå•

   + ä¸€ä¸ªappidå¯ä»¥åŒæ—¶ç»‘åˆ°å¤šä¸ªå¼€å‘è€…
   + æ­¤æ—¶è¿™äº›å¼€å‘è€…å°±å¯ä»¥å…±ç”¨è¿™ä¸ªappidå’Œå®ƒçš„å¼€å‘æƒé™

#### æ”¯ä»˜æµç¨‹

1. åˆ›å»ºè®¢å•ï¼šè·å–è®¢å•ç¼–å·order_number
2. è·å–ç”¨æˆ·ç™»å½•æˆåŠŸåçš„token
3. 
4. å‡†å¤‡é¢„æ”¯ä»˜ï¼šè·å–æ”¯ä»˜å‚æ•°pay
5. å‘èµ·å¾®ä¿¡æ”¯ä»˜ï¼šæäº¤payå‚æ•°
6. æŸ¥è¯¢è®¢å•



#### æ”¯ä»˜æŒ‰é’®

1. å…ˆåˆ¤æ–­ç¼“å­˜ä¸­æœ‰æ²¡æœ‰token
2. æ²¡æœ‰è·³è½¬åˆ°æˆæƒé¡µé¢ï¼Œåœ¨æˆæƒé¡µé¢ä¸­è¿›è¡Œè·å–token
3. æœ‰token
4. åˆ›å»ºè®¢å•ç¼–å·ï¼Œè·å–è®¢å•ç¼–å·
5. æ‰‹åŠ¨åˆ é™¤ç¼“å­˜ä¸­ å·²ç»è¢«é€‰ä¸­äº†çš„å•†å“
6. æŠŠåˆ é™¤åçš„è´­ç‰©è½¦æ•°æ®é‡æ–°å¡«å……å›ç¼“å­˜ä¸­

#### è·å–ç™»å½•ç”¨æˆ·ä¿¡æ¯

```html
<button type="primary" plain @click="handleGetUserInfo">
    ç™»å½•
</button>
```

```js
// ç™»å½•é¡µé¢
async handleGetUserInfo(e) {
    const {userInfo} = await getUserProfile() 
    uni.setStorageSync('userInfo', userInfo)
    uni.navigateBack({
        delta: 1
    })
}


// apié¡µé¢
// getUserProfileçš„å°è£…
export const getUserProfile = () => {
	return new Promise((resolve, reject) => {
		uni.getUserProfile({
		    desc:'Wexin',     // è¿™ä¸ªå‚æ•°æ˜¯å¿…é¡»çš„
		    success: result =>{
		        resolve(result)
		    },
		    fail: err =>{
		        reject(err)
		    }
		})
	})
}
```

